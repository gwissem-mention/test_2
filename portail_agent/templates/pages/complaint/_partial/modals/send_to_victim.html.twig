{% embed "common/_modal.html.twig" with {'id':'complaint-send-report-to-victim', 'size':'lg'} %}
    {% block attr_sup %}data-complaint-target="sendReportModal"{% endblock %}

    {% block title %}
        <div class="fs-4 mb-4">{{ 'pel.close.the.declaration'|trans }} nÂ° {{ complaint.declarationNumber }}</div>
    {% endblock %}

    {% block body %}
        <div class="fw-bold">{{ 'pel.drop.the.report.then.validate.the.sending.to.the.victim'|trans }}</div>
        <div class="mt-3">
            {{ form(sendReportForm , { attr: {'data-complaint-target': 'dropZoneForm', 'data-empty-message':'pel.you.must.choose.a.file'|trans}}) }}
        </div>
        <div class="invalid-feedback d-block" data-complaint-target="dropZoneError"></div>
        <div class="d-flex justify-content-end mt-3">
            <button type="button" class="fr-btn fr-btn--secondary" data-action="complaint#browseReport">{{ 'pel.browse'|trans }}</button>
        </div>
    {% endblock %}

    {% block footer %}
        <button type="button" class="fr-btn fr-btn--secondary me-3" data-bs-dismiss="modal" id="complaint-send-report-to-the-victim-button-back">{{ 'pel.cancel'|trans }}</button>
        <button type="button" class="fr-btn" data-action="complaint#sendReport" data-complaint-target="sendReportValidationButton" data-complaint-url-send-report-param="{{ path('complaint_send_report', { id: complaintId }) }}" data-complaint-url-close-param="{{ path('complaint_close', { id: complaintId }) }}" id="complaint-send-report-to-the-victim-button-validate">
            <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
            <span class="sr-only">{{ 'pel.send.report.to.the.victim.and.close'|trans }}</span>
        </button>
    {% endblock %}
{% endembed %}
